(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27730],{365804:(e,t,n)=>{n.d(t,{C:()=>r,Z:()=>l});var o=n(844974),s=n(773285),i=n(276775);const r="lastOnHomefeed",a=["/","/homefeed/"];function l(){const{pathname:e}=(0,i.useLocation)(),t=(0,i.useHistory)(),{checkExperiment:n}=(0,s.F)(),l=a.includes(e),c=t&&"POP"!==t.action;if(l&&c){const e=JSON.parse((0,o.qn)(r)),t=null!=e&&e.time?Date.now()-e.time:0,s=c&&t>0?n("hfp_hf_refresh_logic_web"):{};return{shouldMaintainHomefeed:"enabled_2_5_min"===s.group&&t/6e4<2.5||"enabled_1_min"===s.group&&t/6e4<1,lastHFScrollPosition:null==e?void 0:e.scrollPosition}}return{shouldMaintainHomefeed:!1}}},199324:(e,t,n)=>{n.d(t,{Z:()=>o});const o=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},327956:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(667294),s=n(407043),i=n(385740);const r=e=>{const t=(0,o.useRef)(!1),{logContextEvent:n}=(0,s.v)(),{viewType:r,viewParameter:a}=(0,i.SU)();(0,o.useEffect)((()=>{Object.entries(e).length>0&&!t.current&&r&&(n({event_type:13,view_type:r,view_parameter:a,...e}),t.current=!0)}))}},392370:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(667294),s=n(883119),i=n(785893);const r=({children:e,gray:t,weight:n="normal"})=>(0,i.jsx)(s.xv,{color:t?"subtle":void 0,inline:!0,weight:n,children:(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})});function a({searchDelightText:e,searchDelightConfig:t}){const{text_background_color:n,text_colors:o=[]}=t,s=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(o.length>1){let t=0;return(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap",...s},children:e.split("").map(((e,n)=>{const s=o[t];return" "!==e&&(t=(t+1)%o.length),(0,i.jsx)("span",{style:{color:s},children:e},`searchDelight-${n}`)}))})}return(0,i.jsx)("span",{style:{color:o[0],whiteSpace:"pre-wrap",...s},children:e},`searchDelight-${e}`)}const l=({allBold:e,searchDelightParts:t,searchDelightConfig:n,text:s,weightPivot:l})=>{const c=t[1],d=s.indexOf(c),u=d+c.length;return l<=d?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:s.substring(0,l)}),(0,i.jsxs)(r,{weight:"bold",children:[s.substring(l,d),(0,i.jsx)(a,{searchDelightText:c,searchDelightConfig:n}),s.substring(u)]})]}):l<=u?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:s.substring(0,d)}),(0,i.jsxs)(r,{weight:"bold",children:[(0,i.jsx)(a,{searchDelightText:c,searchDelightConfig:n}),s.substring(u)]})]}):(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:s.substring(0,d)}),(0,i.jsx)(r,{weight:"bold",children:(0,i.jsx)(a,{searchDelightText:c,searchDelightConfig:n})}),(0,i.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:s.substring(u,l)}),(0,i.jsx)(r,{weight:"bold",children:s.substring(l)})]})},c=(e,t)=>t.map((t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const o=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,o),e.slice(o,o+t.length)]})(e,t))).filter(Boolean).sort(((e,t)=>e&&t?e[0].length-t[0].length:0)).shift();function d({allBold:e,searchDelightConfig:t,query:n="",text:s}){const a=(s.toLowerCase().startsWith(n.toLowerCase())?n:"").length,d=t?c(s,t.search_query_list):null;return d&&t?(0,i.jsx)(l,{allBold:e,searchDelightParts:d,searchDelightConfig:t,text:s,weightPivot:a}):(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:s.substr(0,a)}),(0,i.jsx)(r,{weight:"bold",children:s.substr(a)})]})}},150461:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),s=n(199324),i=n(898781),r=n(883119),a=n(785893);function l({dataTestId:e,focusOptionId:t,isFocused:n,name:l,onBlur:c,onChange:d,onClick:u=(()=>{}),onFocus:p,onKeyDown:h,onSearchTrigger:g,placeholder:_,value:x,disabled:m=!1}){const y=(0,i.ZP)(),v=(0,o.useRef)(null);return(0,o.useEffect)((()=>{v.current&&g&&v.current.addEventListener("searchTrigger",g)}),[]),(0,o.useEffect)((()=>{if(!v.current)return;document.activeElement===v.current!==n&&(n?v.current.focus():v.current.blur())}),[n]),(0,a.jsxs)(r.xu,{height:"100%",flex:"grow",children:[(0,a.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":y.bt("Cari", "Search", "searchBox.searchInput.placeholder", undefined, true),"aria-expanded":n,"data-test-id":e,name:l,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:p,onKeyDown:h,placeholder:_||y.bt("Cari", "Search", "searchBox.searchInput.placeholder", undefined, true),ref:v,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:s.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:x,disabled:m}),(0,a.jsx)(r.xu,{display:"none",id:"searchBoxAccessibleText",children:y.bt("Setelah hasil pelengkapan otomatis tersedia, gunakan panah ke atas dan ke bawah untuk meninjau dan enter untuk memilih. Bagi pengguna perangkat sentuh, jelajahi dengan gerakan sentuh atau geser cepat.", "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.", "searchBox.searchInput.accessibleText", undefined, true)})]})}},615119:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(214494);function s({report:e,query:t,suggestions:n,type:s}){return o.Z.create("SearchSuggestionReportResource",{report:e,query:t,suggestions:n,type:s}).callCreate()}},254469:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294);const s=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},i=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};i.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new s(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},i.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},i.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},i.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},i.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const r=i;var a=n(214494);function l({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},o=a.Z.create(e,n),s=new r,i=()=>{o.abort()};return async function(e,t){const n=s.get(`${t}-${e}`);if(n){const t=n.items;if(t&&t.length){i();return{hint:n.hint,items:t,term:e}}}return e.length>=0?(async(e,t)=>{var n;if(o.isCalling()){var r,a;const n=null===(r=o.options)||void 0===r?void 0:r.term,s=null===(a=o.options)||void 0===a?void 0:a.pin_scope;if(e===n&&t===s)return;i()}const{bookmarks:l,...c}=o.options||{};o.options={...c,term:e,pin_scope:t};const d=null===(n=(await o.callGet({showError:!1})).resource_response)||void 0===n?void 0:n.data,u=null==d?void 0:d.items,p=(null==d?void 0:d.hint)||{},h={hint:p,items:u};return s.set(`${t}-${e}`,h),{term:e,items:u,hint:p}})(e,t):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:s}){const i=(0,o.useRef)(!1),r=(0,o.useRef)({}),[a,c]=(0,o.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=(0,o.useRef)();return n.current||(n.current=l({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n}),u=n.pin_scope||"pins",p=`${u}-${s}`;return(0,o.useEffect)((()=>{(async()=>{if(null!=s&&(e||i.current))if(p in r.current)c(r.current[p]);else try{const e=await d(s,u);if(e){const{items:t}=e;r.current[p]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}i.current||(i.current=!0)})()}),[s,u,p]),a}},23003:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(826067);function s(e){const t=(0,o.mB)(e.search)||{};let n;if(t.q){const t=e.pathname.split("/");n=t.length>2?t[2]:"pins"}if(t.q&&n){const e=Array.isArray(t.q)?t.q.join(" "):t.q,o=Array.isArray(t.rs)?"":t.rs,s=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:s,query:e||"",rs:o||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},388619:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(704115);const s=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,o.Z)(t[1])}return(0,o.Z)()}},861411:(e,t,n)=>{n.d(t,{fv:()=>m,GR:()=>h,Hs:()=>v,Mv:()=>_,uc:()=>x,dL:()=>g,qS:()=>y,Y4:()=>w,HE:()=>S,Cy:()=>f});var o=n(667294),s=n(973935),i=n(124580),r=n(407043),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,s.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;i.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&i.Z.stop(this.node)}render(){return o.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,r.v)();return(0,a.jsx)(c,{...e,logImpression:t})}var u=n(773285);function p({auxData:e,component:t,eventData:n,eventType:s,impressionType:a,isPaused:l,objectIdStr:c,viewData:d,viewType:p,viewParameter:h}){const g=(0,o.useRef)(null),{logImpression:_}=(0,r.v)(),{checkExperiment:x}=(0,u.F)(),m=x("web_mweb_pin_impression_add_width_height").anyEnabled,y=(0,o.useCallback)((()=>{const o=o=>{var i,r,l,u;_({viewData:d||{},viewType:p,viewParameter:h,eventType:s,impressionType:a,auxData:e,component:t,objectIdStr:c,eventData:{endTime:o.endTime,time:o.startTime,pinCellWidth:m?(null===(i=g.current)||void 0===i?void 0:i.getBoundingClientRect().width)||0:void 0,pinCellHeight:m?(null===(r=g.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0:void 0,windowWidth:m?null===(l=window)||void 0===l?void 0:l.innerWidth:void 0,windowHeight:m?null===(u=window)||void 0===u?void 0:u.innerHeight:void 0,...n}})};try{if(g.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;i.Z.start(g.current).onExitViewport(o).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[g.current]);return(0,o.useEffect)((()=>{l||y();const e=g.current;return()=>{e instanceof HTMLElement&&i.Z.stop(e)}}),[l,y]),g}const h=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),g=e=>{const t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},x=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},m=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const t=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},v=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{const t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{const t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},134951:(e,t,n)=>{n.d(t,{Z:()=>_});var o=n(667294),s=n(116303),i=n(65675),r=n(72809),a=n(615119),l=n(66699),c=n(19121),d=n(784641),u=n(233803),p=n(861411),h=n(883119),g=n(785893);function _({bubble:e,height:t,lightOverlay:n,isHovered:_,onClick:x,onMouseDown:m,onMouseEnter:y,onMouseLeave:v,searchBoxRenderStopwatch:f,showFlag:S,slotIndex:w,storyId:b,storyType:I,viewParameter:j,viewType:P,width:C}){var T,k;const D=(0,c.Z)(),{id:E,title:M,image_urls:A,article_creator_user:R}=e,L=()=>{(0,a.Z)({query:"",report:M,suggestions:[M],type:u.KH.SEARCH_TRENDING_TEXT})},z=A&&A.length>0?{url:A[0]}:void 0,H=(0,l.Z)(M||"",{});if(!e.title||!e.id)return null;const Z=(0,d.T7)(null!==(T=e.feed_source)&&void 0!==T?T:0,null!==(k=e.is_product_pin_feed)&&void 0!==k&&k,e.title,e.id);return(0,g.jsx)(p.Y4,{auxData:{grid_index:w.toString(),today_article_id:E,story_type:I,story_id:b},loggingId:E,objectIdStr:E,slotIndex:w,viewParameter:j||3467,viewType:P,children:({impressionTrackerRef:e})=>(0,g.jsx)(i.Z,{backgroundColor:"gray",coverImage:z,disableTabIndex:!0,height:t,id:E,isHovered:_,lightOverlay:n,onClick:x,onMouseDown:m,onMouseEnter:y,onMouseLeave:v,ref:e,searchBoxRenderStopwatch:f,url:Z,width:C,children:({isHovered:n})=>{var i;return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(h.xu,{alignItems:"end",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:C||"100%",ref:e,children:(0,g.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,g.jsx)(h.X6,{size:"500",align:"center",color:"light",children:H}):(0,g.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:H}),R&&R.image_small_url&&R.full_name&&(0,g.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(h.xu,{marginEnd:2,children:(0,g.jsx)(s.Z,{outline:!0,size:"xs",src:R.image_small_url,name:R.full_name})}),(0,g.jsx)(h.xv,{size:"100",color:"light",children:R.full_name})]})]})}),D.isAuth&&D.isEmployee&&S&&(0,g.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(r.Z,{handleReport:L,imgSignature:null!==(i=null==z?void 0:z.url)&&void 0!==i?i:"",isVisible:n})})]})}})})}},612775:(e,t,n)=>{n.d(t,{Z:()=>Re});var o=n(667294),s=n(940589),i=n(977558),r=n(909499),a=n(883119),l=n(785893);function c({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:n,onDismiss:o}){return(0,l.jsx)(a.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new a.Ry(i.fe),children:e.map(((e,t)=>(0,l.jsx)(a.Lt.Item,{dataTestId:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase(),onSelect:()=>n(t),option:{value:e.text,label:e.text},children:(0,l.jsx)(a.xv,{weight:[r.lw.PINS,r.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)))})}var d=n(898781),u=n(641350),p=n(407043),h=n(276775),g=n(773285),_=n(780280);const x=e=>{switch(e){case r.lw.PINS:return 220;case r.lw.PINS_MINE:return 223;case r.lw.PINS_VIDEO:return 11399;case r.lw.BOARDS:return 221;case r.lw.USERS:return 222;default:return null}};const m=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:n,handleScopeChange:s}){const{logContextEvent:i}=(0,p.v)(),m=(0,d.ZP)(),y=function(e){const{checkExperiment:t}=(0,g.F)(),{country:n}=(0,_.B)();let o=[{scope:r.lw.PINS,text:e.bt("Semua pin", "All Pins", "All Pins label for content type filters on search bar", undefined, true)},{scope:r.lw.PINS_MINE,text:e.bt("Pin Anda", "Your Pins", "Your Pins label for content type filters on search bar", undefined, true)},{scope:r.lw.PINS_VIDEO,text:e.bt("Video", "Videos", "Video label for content type filters on search bar", undefined, true)},{scope:r.lw.BOARDS,text:e.bt("Papan", "Boards", "Boards label for content type filters on search bar", undefined, true)}];t("show_story_pin_option_and_metadata").anyEnabled&&(o=o.concat([{scope:r.lw.IDEA_PINS,text:e.bt("Pin Ide", "Idea Pins", "Idea Pins label for content type filters on search bar", undefined, true)}])),["US","UK"].includes(n)&&(o=o.filter((({scope:e})=>e!==r.lw.BOARDS&&e!==r.lw.PINS_VIDEO)));const s=o.findIndex((e=>e.scope===r.lw.PINS_MINE));return o.push(o.splice(s,1)[0]),o}(m),v=(0,o.useRef)(null),f=(0,h.useHistory)(),[S,w]=(0,o.useState)(e||y[0].scope),[b,I]=(0,o.useState)(!1),[j,P]=(0,o.useState)(!1);(0,o.useEffect)((()=>{w(e)}),[e]);const C=(y[S?y.findIndex((e=>e.scope===S)):0]||y[0]).text,T=(0,l.jsx)(a.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:u.XI}},ref:v,children:(0,l.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,l.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:C}),(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.JO,{accessibilityLabel:m.bt("Tarik menurun", "Dropdown", " - ", undefined, true),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:j?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:u.XI,marginStart:2,position:"relative",rounding:6,children:[(0,l.jsx)(a.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>(P(!0),void(n&&n(!0))),onMouseLeave:()=>(P(!1),void(n&&n(!1))),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),I(!b),i({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:T}),b&&(0,l.jsx)(c,{contentTypes:y,contentTypesAnchor:v.current,handleSelectFilter:e=>{const n=y[e].scope;w(n),I(!1),i({event_type:101,component:215,element:x(n),aux_data:{entered_query:t}}),s(n),t&&f.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>I(!1)})]})};var y=n(23003),v=n(124580),f=n(755742),S=n(333312),w=n(829407),b=n(100745);const I="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",j={transform:"scale(0)",opacity:"0",transition:I},P={transform:"scale(1)",opacity:"1",transition:I},C={transform:"scale(1.2)",transition:I};function T({handleClearMode:e,scope:t,backgroundColorHex:n,iconType:s}){var i,c;const u=(0,d.ZP)(),p=(0,r.Hd)(t),[h,g]=(0,o.useState)(!1),_=(0,a.JZ)(),[x,m]=(0,o.useState)(_?P:j),y=(0,o.useRef)();let v;if((0,w.Z)((()=>_?()=>{}:(m(P),()=>{m(j)}))),h)v="cancel";else if(6===s)v="person";else{if(1!==s)return null;v="shopping-bag"}return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(a.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:y,dangerouslySetInlineStyle:{__style:h?C:x},"data-test-id":"mode-icon-wrapper",children:(0,l.jsx)(a.iP,{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>g(!0),onBlur:()=>g(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,l.jsx)(a.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(i=n&&n[0])&&void 0!==i?i:void 0}},children:(0,l.jsx)(a.JO,{accessibilityLabel:u.bt("Ikon mode pencarian", "Search mode icon", "searchBox.modesIcon.accessibilityLabel", undefined, true),icon:v,color:"inverse",size:16})})})}),(null===(c=y.current)||void 0===c?void 0:c.style.transform)!==j.transform&&(0,l.jsx)(S.default,{id:"experience-tooltip",anchor:y.current,hasFullWidthButton:!1,placementId:p,experienceIds:[t===r.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function k({handleClearMode:e,scope:t}){const{modeIcon:n}=(0,b.A)().searchContext;if(n)return(0,l.jsx)(o.Suspense,{fallback:null,children:(0,l.jsx)(T,{handleClearMode:e,scope:t,backgroundColorHex:n.backgroundColorHex,iconType:n.iconType})})}var D=n(862628),E=n(150461),M=n(388619),A=n(430323),R=n(869636),L=n(622599),z=n(349700),H=n(149230);function Z({suggestions:e}){var t;const n=e[0],o=(0,H.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri})?"nofollow":"none";return(0,l.jsxs)(a.xu,{padding:10,children:[(0,l.jsx)(a.xu,{marginBottom:6,children:(0,l.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,l.jsx)(a.iP,{role:"link",rel:o,href:n.action_button_uri,rounding:"pill",children:(0,l.jsx)(a.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,l.jsx)(a.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var q=n(319915),B=n(123159);const F=(e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function O({children:e,experiences:t,placementId:n,searchTerm:s,suggestions:i}){const{viewExperience:r}=(0,B.M)(),[a,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(new Set),u=(null==t?void 0:t.filter((e=>{var t;return 3===(null===(t=e.display_data)||void 0===t?void 0:t.component_type)})).map((e=>({...e.display_data,id:e.experience_id}))))||[];return(0,o.useEffect)((()=>{if(!s||!i)return void l(null);if(!(null==a?void 0:a.search_query_list.find((e=>i.some((({label:t})=>F(t,e))))))){const e=u.find((e=>{var t;return e.id!==(null==a?void 0:a.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find((e=>i.some((({label:t})=>F(t,e))))))}));if(e){l(e);const{id:t}=e;c.has(t)||("number"==typeof t&&r(n,t),d(new Set(c).add(t)))}}}),[s]),e({searchDelightConfig:a})}var N=n(392370),U=n(615119),W=n(947599),$=n(121151),Y=n(499128),G=n(343341);function X({handleReport:e}){const t=(0,d.ZP)(),[n,s]=(0,o.useState)(!1),{showToast:i}=(0,G.F9)();return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(a.hU,{accessibilityLabel:t.bt("Laporkan", "Report", "Accessibility label for report icon for search term", undefined, true),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),s(!0)},size:"xs",iconColor:"gray"}),n&&(0,l.jsx)($.ZP,{accessibilityModalLabel:t.bt("Laporkan pencarian", "Report search", "accessible label for report search modal", undefined, true),heading:t.bt("Laporkan Istilah Pencarian", "Report Search Term", "Heading for report searchmodal", undefined, true),onDismiss:()=>s(!1),size:"sm",children:(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.xu,{padding:4,children:(0,l.jsx)(a.xv,{children:t.bt("Tandai istilah pencarian ini untuk ditinjau oleh tim Kepercayaan dan Keselamatan kami", "Flag this search term for review by our Trust and Safety team", "What will happen when you report a search term", undefined, true)})}),(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,l.jsx)(a.xu,{margin:2,children:(0,l.jsx)(a.zx,{fullWidth:!0,onClick:()=>s(!1),text:t.bt("Batal", "Cancel", "Text for cancel button when reporting search result", undefined, true)})}),(0,l.jsx)(a.xu,{margin:2,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),i((({hideToast:e})=>(0,l.jsx)(Y.ZP,{onHide:e,text:t.bt("Terima kasih! Masukan dari Anda membantu menjaga komunitas Pinterest tetap aman.", "Thanks! Your feedback helps keep the Pinterest community safe.", "Toast after reporting a search term", undefined, true)}))),s(!1)},text:t.bt("Laporkan", "Report", "Button label to report search term", undefined, true)})})]})]})})]})}var K=n(796668),V=n(19121),Q=n(940882),J=n(865607);const ee=40;function te({id:e,children:t,isHovered:n,url:o,onClick:s,onMouseEnter:i,onMouseLeave:r}){return(0,l.jsx)(a.xu,{id:e,color:n?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false",children:(0,l.jsx)(a.iP,{onMouseEnter:i,onMouseLeave:r,role:"link",href:o,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),s())},children:(0,l.jsx)(a.xu,{marginBottom:1,paddingX:5,children:t})})})}function ne({highlightMatch:e=!1,iconName:t,imageUrl:n,isVerifiedMerchant:o=!1,label:s,query:i,rounding:r,searchDelightConfig:c,subLabel:u,verified:p=!1}){const h=(0,d.ZP)();return(0,l.jsx)(a.xu,{display:"flex",paddingY:n?1:0,width:"100%","data-test-id":n||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,l.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:[n?(0,l.jsx)(a.xu,{width:ee,height:ee,overflow:"hidden",rounding:r&&2===r?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,l.jsx)(a.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:ee,naturalWidth:ee,src:n})}):(0,l.jsx)(a.kC,{justifyContent:"center",alignItems:"center",width:ee,height:ee,children:(0,l.jsx)(a.xu,{marginTop:1,children:(0,l.jsx)(a.JO,{accessibilityLabel:t?(0,z.nk)(h.bt("{{ icon}} ikon", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,l.jsxs)(a.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,l.jsxs)(a.kC,{alignItems:"center",children:[e&&i?(0,l.jsx)(N.Z,{searchDelightConfig:c,query:i,text:s||i}):(0,l.jsx)(a.xv,{weight:"bold",children:s}),(p||o)&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(J.Z,{hasVerifiedIdentity:p,iconOnly:!0,isVerifiedMerchant:o,size:"xs"})})]}),u&&(0,l.jsx)(a.xv,{size:"100",children:u})]})]})})}const oe=(0,o.lazy)((()=>Promise.all([n.e(67631),n.e(90279)]).then(n.bind(n,690279)))),se=0;function ie({experiences:e,index:t,focusedIndex:n,onInclusiveProductFilterClick:s,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:c,query:u,suggestion:p}){const h=(0,d.ZP)(),g=(0,V.Z)(),_="number"==typeof p.identifier_icon_name&&p.identifier_icon_name!==Q.J?(0,Q.Z)(p.identifier_icon_name):void 0,x=()=>{(0,U.Z)({report:p.label.toLowerCase(),query:u.toLowerCase(),suggestions:[p.label],type:se})};return(0,l.jsx)(O,{experiences:e,placementId:1000315,searchTerm:u,suggestions:[p],children:({searchDelightConfig:e})=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(te,{id:(0,L.Gp)(0,t),url:(0,L.Ek)({suggestion:p,query:u}),isHovered:n===t,onClick:()=>{i(p,t)},onMouseEnter:()=>{r(t)},onMouseLeave:()=>{c()},children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.xu,{flex:"grow",children:"inclusive_product_filter_query"===p.type?(0,l.jsx)(a.xu,{marginBottom:2,children:(0,l.jsx)(a.xv,{weight:"bold",children:(0,z.nk)(p.eligibleHairPatternFilters?h.bt("{{ query }} berdasarkan pola rambut", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):h.bt("{{ query }} berdasarkan rentang warna kulit", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:(0,l.jsx)(N.Z,{searchDelightConfig:e,query:u,text:p.label||u})})})}):(0,l.jsx)(ne,{highlightMatch:!0,iconName:_,imageUrl:p.image,label:p.label,query:u,rounding:2,searchDelightConfig:e,subLabel:p.subLabel})}),g.isAuth&&g.isEmployee&&n===t?(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(X,{handleReport:x})}):null]})}),"inclusive_product_filter_query"===p.type&&s&&(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:p.eligibleHairPatternFilters?(0,l.jsx)(q.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,l.jsx)(W.Z,{children:(0,l.jsx)(a.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,l.jsx)(oe,{eligibleFilters:p.eligibleHairPatternFilters,isUpsell:!0,query:u,onClickApplyFilters:e=>s(p,t,e)})})})}):(0,l.jsx)(K.Z,{query:u,onClickApplyFilters:e=>s(p,t,e),showHeaderText:!1})})]})})}const re=({index:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,suggestion:i})=>(0,l.jsx)(te,{id:(0,L.Gp)(0,e),url:i.url,isHovered:t===e,onClick:()=>{n(i,e)},onMouseEnter:()=>{o(e)},onMouseLeave:()=>{s()},children:(0,l.jsx)(ne,{imageUrl:i.image,isVerifiedMerchant:i.is_verified_merchant,label:i.label,rounding:"circle",subLabel:i.subLabel,verified:i.verified})},`${i.type}-${i.label}-${i.subLabel||""}`);function ae({focusedIndex:e,maxWidth:t,onlyItem:n,onSuggestionClick:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:r,slpUnifiedComponentStyle:c}){const u=(0,d.ZP)(),p=0===e;return(0,l.jsxs)(o.Fragment,{children:[c&&!n&&(0,l.jsx)(a.xu,{width:"100%",height:64}),(0,l.jsx)(a.xu,{"aria-selected":p?"true":"false",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:c&&!n?"16px":void 0}},id:"syop_cta",maxWidth:t?t+2:void 0,position:c&&!n?"absolute":void 0,role:"option",width:"100%",children:(0,l.jsxs)(a.xu,{paddingX:4,marginTop:3,children:[(0,l.jsx)(a.iz,{}),(0,l.jsx)(a.xu,{marginTop:4,children:(0,l.jsxs)(a.kC,{justifyContent:"between",alignItems:"center",children:[(0,l.jsx)(a.xv,{weight:"bold",lineClamp:2,children:u.bt("Mencari ide yang Anda simpan?", "Looking for ideas you saved?", "searchBox.suggestionsMenu.searchYourPinsCTA", undefined, true)}),(0,l.jsx)(a.kC.Item,{flex:"none",children:(0,l.jsx)(a.iP,{onTap:s,rounding:"pill",onMouseEnter:()=>{i(0)},onMouseLeave:r,children:(0,l.jsx)(a.xu,{rounding:"pill",color:p?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xv,{align:"center",weight:"bold",children:u.bt("Cari pin Anda", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})})})})]})})]})})]})}function le({experiences:e,suggestion:t,index:n,focusedIndex:o,query:s,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,onInclusiveProductFilterClick:c}){switch(t.type){case"autocompleteupsell":return(0,l.jsx)(Z,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,l.jsx)(ie,{experiences:e,index:n,focusedIndex:o,onInclusiveProductFilterClick:c,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,query:s,suggestion:t});case"user":return(0,l.jsx)(re,{index:n,focusedIndex:o,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,suggestion:t})}return null}var ce=n(233803);const de={boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"};function ue({focusIndex:e,maxHeight:t,maxWidth:n,onInclusiveProductFilterClick:o,onMouseEnter:i,onMouseLeave:r,onSuggestionClick:c,onSuggestionHovered:u,onSyopCtaClick:p,query:h,searchBoxHeight:_,searchBoxRenderStopwatch:x,showSyopHeading:m,slpUnifiedComponent:y,suggestionGroups:v,width:f,windowWidth:S}){const w=(0,d.ZP)(),{experiencesMulti:b}=(0,R.Z)(1000315),{checkExperiment:I}=(0,g.F)(),j=I("gate_ss_articles_through_tat").anyEnabled,{anyEnabled:P}=I("aid_exp_ia_navigation_update_search");function C(){u(void 0)}function T(t,i){const r=(0,L.cW)(v),a=null==e?void 0:e-r[i],d=e=>{!function(e,t){u((0,L.cW)(v)[e]+t)}(i,e)};switch(t.type){case"recent_query":return(0,l.jsx)(ce.vW,{focusedIndex:a,groupIndex:i,maxWidth:n,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,slpUnifiedComponentStyle:y,suggestions:t.items});case"recent_save":return(0,l.jsx)(ce.r$,{focusedIndex:a,groupIndex:i,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,slpUnifiedComponentStyle:y,suggestions:t.items});case"recent_view":return(0,l.jsx)(ce.iS,{focusedIndex:a,groupIndex:i,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,slpUnifiedComponentStyle:y,suggestions:t.items});case"story":return j&&"shopping_spotlight"===t.story_type?(0,l.jsx)(ce.pW,{focusedIndex:a,groupIndex:i,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,searchBoxRenderStopwatch:x,slpUnifiedComponentStyle:y,suggestions:t}):(0,l.jsx)(ce.a5,{focusedIndex:a,groupIndex:i,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,searchBoxRenderStopwatch:x,slpUnifiedComponentStyle:y,suggestions:t});case"blended_autocomplete":return function(e){const t=e.slice();let n=t[0];for(const c of t){var o,i;if(null!==(o=c.modified_filter_eligibility)&&void 0!==o&&o.hair_pattern||null!==(i=c.modified_filter_eligibility)&&void 0!==i&&i.skin_tone){var r,a,l;const e=(null===(r=c.modified_filter_eligibility.hair_pattern)||void 0===r?void 0:r.base_query)||(null===(a=c.modified_filter_eligibility.skin_tone)||void 0===a?void 0:a.base_query)||"",o=null===(l=c.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.eligible_filters,{rs:i}=(0,M.Z)({url:c.url}),d={query:e,rs:i},u=(0,s.Z)(d),p="enriched_autocomplete"===n.type&&n.image?1:0,h={eligibleHairPatternFilters:o,label:e,query:e,resultIndex:p,type:"inclusive_product_filter_query",url:u};t.splice(p,0,h),n=t[0];break}}return t}(t.items).map(((e,t)=>(0,l.jsx)(le,{experiences:b,focusedIndex:a,index:t,onInclusiveProductFilterClick:o,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,query:h,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`)));case"syop_cta":const e=v.filter((e=>"blended_autocomplete"===e.type)),r=e.length>0&&0===e[0].items.length;return(0,l.jsx)(ae,{focusedIndex:a,index:0,maxWidth:n,onlyItem:r,onSuggestionClick:p,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,slpUnifiedComponentStyle:y});case"slp_rec_organic":case"slp_rec_trending":const u="slp_rec_organic"===t.type?w.bt("Ide untuk Anda", "Ideas for you", "searchBox.suggestionsMenu.ideasForYouText", undefined, true):w.bt("Populer di Pinterest", "Popular on Pinterest", "searchBox.suggestionsMenu.popularOnPinterestText", undefined, true);return(0,l.jsx)(ce.QU,{focusedIndex:a,groupIndex:i,maxWidth:n,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:C,searchBoxRenderStopwatch:x,suggestions:t.items,title:u})}return null}const k=v.length>0&&(!y||!!n);return(0,l.jsx)(A.Z,{view:2,viewParameter:103,children:k?(0,l.jsx)(a.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:_}},left:!0,overflow:"hidden",position:"absolute",width:f||"100%",id:"SuggestionsMenu",children:(0,l.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:i,onMouseLeave:r,style:{maxHeight:t,...de},children:(0,l.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"16px",paddingTop:"12px",paddingLeft:n?(S-n)/2:void 0,paddingRight:n?(S-n)/2-17:void 0}},marginStart:P?2:void 0,width:"calc(100% - 17px)",children:[m&&(0,l.jsx)(a.xu,{marginTop:4,marginStart:y?void 0:5,children:(0,l.jsx)(a.X6,{size:"500",children:(e=>e.length>0?(0,z.nk)(w.bt("Cari Pin Anda untuk {{ query }}", "Search your Pins for {{ query }}", "searchBox.suggestionsMenu.searchYourPinsForQueryText", undefined, true),{query:e}):w.bt("Cari pin Anda", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true))(h)})}),v.map(((e,t)=>e.items.length?(0,l.jsx)(a.xu,{children:T(e,t)},`${h}-${e.type}-${t}`):null))]})})}):(0,l.jsx)(a.xu,{})})}var pe=n(784590),he=n(254469);function ge({query:e,scope:t,setRecentQueries:n,setAutocompleteSuggestions:s,moreRecentSearchesExp:i=!1}){const a=(0,d.ZP)(),l=(0,he.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});(0,o.useEffect)((()=>{s([{items:l||[],type:"blended_autocomplete"}])}),[l,e,s,a]);const{isLoaded:c,data:p}=(0,pe.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:r.lw.PINS},noCache:!0});(0,o.useEffect)((()=>{c&&p&&function({newRecentQueries:e,setRecentQueries:t,moreRecentSearchesExp:n}){t(e.slice(0,n?10:u.P$).map((({label:e,query:t,url:n,type:o},s)=>({label:e,query:t,resultIndex:s,type:o,url:n}))))}({newRecentQueries:p.items,setRecentQueries:n,moreRecentSearchesExp:i})}),[c,p,n,i])}var _e=n(792182),xe=n(928597),me=n(425288);const ye={recentSaves:[],recentViews:[]};function ve(e=ye,t){switch(t.type){case"FETCH_COMPLETE":{const{options:n={},resource:o}=t.payload,s=t.payload.response.resource_response.data;if("ApiResource"===o&&"/v3/users/me/recent/engaged/pin/stories/"===n.url&&s){const t=s.find((e=>"user_recently_viewed_pins"===e.story_type)),n=s.find((e=>"user_recently_saved_pins"===e.story_type)),o=(null==t?void 0:t.objects.map((({description:e,id:t,images:n},o)=>({label:e,images:n,resultIndex:o,type:"recent_view",url:`/pin/${t}`}))))||[],i=(null==n?void 0:n.objects.map((({description:e,id:t,images:n},o)=>({label:e,images:n,resultIndex:o,type:"recent_save",url:`/pin/${t}`}))))||[];return{...e,recentSaves:i,recentViews:o}}return e}default:return e}}var fe=n(505920);const{Provider:Se,useHook:we}=(0,me.Z)("SearchBox");function be({children:e}){const[t,n]=(0,o.useReducer)(ve,ye);(0,fe.Z8)("ApiResource",(e=>{n({type:"FETCH_COMPLETE",payload:e})}));const s=(0,o.useMemo)((()=>({state:t})),[t]);return(0,l.jsx)(Se,{value:s,children:e})}var Ie=n(584992);const{Provider:je,useHook:Pe}=(0,Ie.Z)({name:"search_tab_render",sampleRate:1}),Ce=je,Te=Pe;function ke({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:s,onMouseLeave:i,onSuggestionClick:a,onSuggestionGroupsUpdate:c,onSuggestionHovered:d,onSyopCtaClick:u,query:p,scope:h,searchBoxHeight:_,slpUnifiedComponent:x,suggestionGroups:m,width:y}){const v=h===r.lw.PINS_MINE,f=Te();(0,w.Z)((()=>{v||null==f||f.start()}));const{data:S}=(0,pe.Z)({name:"SearchTabResource"}),{state:{recentSaves:b,recentViews:I}}=we(),[j,P]=(0,o.useState)([]),[C,T]=(0,o.useState)([]);ge({query:p,scope:h,setRecentQueries:P,setAutocompleteSuggestions:T,moreRecentSearchesExp:x});const{width:k}=(0,_e.Z)()||{},[D,E]=(0,o.useState)(),{group:M}=(0,g.F)().checkExperiment("dweb_slp_unified_component");return(0,o.useEffect)((()=>{let e=j,t=x&&(null==S?void 0:S.filter((e=>"slp_rec_organic"===e.referring_source)))||[];if(x&&k){const n=(0,xe.A_)(k);E(n);const o=j.map((e=>e.label));if(e=j.slice(0,(0,L.YO)({pillLabels:o,maxWidth:n,hasCancelButton:!0})),"enabled_pill"===M){const e=t.map((e=>e.title.format));t=t.slice(0,(0,L.YO)({pillLabels:e,maxWidth:n}))}}const n=C.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}),o=x?[{items:t,type:"slp_rec_organic"},{items:(null==S?void 0:S.filter((e=>"slp_rec_trending"===e.referring_source)))||[],type:"slp_rec_trending"},...(null==S?void 0:S.filter((e=>!e.referring_source||!e.referring_source.startsWith("slp_rec_"))))||[]]:S;let s;s=v?[{items:e,type:"recent_query"},{items:I,type:"recent_view"},{items:b,type:"recent_save"}]:p.length?n:[{items:e,type:"recent_query"},...o||[]],c(s)}),[C,v,c,p,S,j,b,I,h,x,M,k]),(0,l.jsx)(ue,{focusIndex:e,maxHeight:t,maxWidth:D,onInclusiveProductFilterClick:n,onMouseEnter:s,onMouseLeave:i,onSuggestionClick:a,onSuggestionHovered:d,onSyopCtaClick:u,query:p,searchBoxHeight:_,searchBoxRenderStopwatch:f,showSyopHeading:v,slpUnifiedComponent:x,suggestionGroups:m,width:y,windowWidth:k})}var De=n(941646),Ee=n(53987),Me=n(965900);function Ae({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:n=!1,widthType:i="md"}){const{logContextEvent:c}=(0,p.v)(),x=(0,d.ZP)(),S=(0,h.useHistory)(),{isRTL:w}=(0,_.B)(),{checkExperiment:b}=(0,g.F)(),I=(0,h.useLocation)(),{width:j}=(0,_e.Z)()||{},P=(0,Ee.En)(I);(0,L.hb)();const{query:C,scope:T}=(0,y.Z)(I),M=null!=C?C:"",[A,R]=(0,o.useState)(M),[z,H]=(0,o.useState)(),Z=z&&z.query?z.query:A,q=(0,L.WY)();let B=null!=T?T:r.lw.PINS;q&&(B=r.lw.PINS_MINE);const[F,O]=(0,o.useState)(B),N=F===r.lw.PINS_MINE,[U,W]=(0,o.useState)([]),[$,Y]=(0,o.useState)(),[G,X]=(0,o.useState)(!1),[K,V]=(0,o.useState)(!1),[Q,J]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(!1),[ne,oe]=(0,o.useState)(!1),[se,ie]=(0,o.useState)(0);function re(){Y(void 0),H(void 0)}const ae=K||ee,{setAppFocusState:le,toggleTypeaheadOverlay:ce}=(0,Me.I)(),[de,ue]=(0,o.useState)(t);(0,o.useEffect)((()=>{ue(t)}),[t]);const{anyEnabled:pe}=b("dweb_slp_unified_component"),[he,ge]=(0,o.useState)(!1),[xe,me]=(0,o.useState)();(0,L.sy)({setShouldHideGhostText:ge,setSuggestionsMaxHeight:me,isFullWidthSearchBox:pe});const[ye,ve]=(0,L.PN)({shouldHideGhostText:he,isSyop:N,inputFocused:K}),fe=(0,o.useRef)();function Se(){const e=(0,D.Z)(A);if(!e.length)return;const t=(0,s.Z)({query:e,rs:"ac",scope:r.lw.PINS_MINE});S.push(t)}(0,o.useEffect)((()=>{fe.current!==ae&&(ae?v.Z.pause():v.Z.resume(),le(!ae),ae||(re(),R(M)),ce(ae),pe&&document.body&&document.body.style&&(document.body.style.position=ae?"fixed":"static"),fe.current=ae)}),[pe,M,ae,le,ce]),(0,o.useEffect)((()=>{R(M),O(B),V(!1),te(!1)}),[M,B]);const we=(e,t,n=!1)=>{const o=n?97:101,s={};switch(A&&(s.entered_query=A,s.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":c({event_type:o,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...s}});let i=(0,L.Ek)({suggestion:e,query:A,lastFocusTime:se});N&&"recent_query"===e.type&&(i=i.replace("pins","my_pins")),S.push(i);break;case"recent_save":S.push(e.url);break;case"enriched_autocomplete":c({event_type:o,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...s}}),S.push(e.url);break;case"explorearticle":26===e.story_category?c({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...s}}):c({event_type:6940,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...s}}),n&&S.push((0,L.Ek)({suggestion:e,query:""}));break;case"todayarticle":c({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...s}}),n&&S.push((0,L.Ek)({suggestion:e,query:""}));break;case"board":case"user":c({event_type:o,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...s}}),S.push(e.url);break;case"syop_cta":Se();break;case"story":c({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:"slp_rec_trending"===e.referring_source?"trending":"recommended",rs:e.referring_source,story_index:t,...s}}),n&&S.push(e.action.url)}re(),V(!1),te(!1)},be=()=>{if(Z===M&&F===B)return;const e=(0,D.Z)(Z);if(!e.length)return;const t=(0,s.Z)({query:e,rs:"typed",scope:F});S.push(t)},Ie=()=>{V(!0),ue(!1),e&&e(!1),n&&c({event_type:101,element:11809})};if(de&&!K&&!M&&!ae)return(0,l.jsx)(a.xu,{id:"searchBoxContainer",marginStart:"auto",children:(0,l.jsx)(a.hU,{accessibilityLabel:x.bt("Ikon pencarian", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",onClick:Ie,size:"lg",iconColor:"gray"})});const je=(0,L.zj)({suggestionsFocusIndex:$,suggestionGroups:U}),Pe="shrink"!==i&&(M||q);let Te="shrink"===i?"8px":0;Pe&&(Te="4px");const Ae="shrink"===i?"80vw":void 0,Re=(0,l.jsx)(Ce,{children:(0,l.jsx)(ke,{focusIndex:$,maxHeight:xe,onInclusiveProductFilterClick:(e,t,n)=>{const o={};A&&(o.entered_query=A),c({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...o}});const s=(0,L.Ek)({suggestion:e,query:A,lastFocusTime:se,filterSelectedTerm:n});S.push(s)},onMouseEnter:()=>te(!0),onMouseLeave:()=>te(!1),onSuggestionClick:we,onSuggestionGroupsUpdate:W,onSuggestionHovered:e=>Y(e),onSyopCtaClick:Se,query:A,scope:F,searchBoxHeight:pe?u.F7:u.vh,slpUnifiedComponent:pe,suggestionGroups:U,width:pe?j:Ae})});return(0,l.jsx)(a.xu,{flex:"grow",id:"searchBoxContainer",minWidth:i&&"shrink"!==i?u.ht[i]:void 0,paddingX:2,children:(0,l.jsxs)(a.xu,{color:Q?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:Q?"#E1E1E1":void 0}},display:"flex",height:u.XI,rounding:6,children:[(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:w?`0 16px 0 ${Te}`:`0 ${Te} 0 16px`,...ae?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{J(!0)},onMouseLeave:()=>{J(!1)},position:"relative",children:[!(Z||K)&&(0,l.jsx)(a.xu,{flex:"none",marginEnd:2,children:(0,l.jsx)(a.JO,{accessibilityLabel:x.bt("Ikon pencarian", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",size:16})}),P&&(0,l.jsx)(k,{handleClearMode:()=>{Z===M?S.push(`/search/pins/?q=${M}`):O(r.lw.PINS)},scope:F}),(0,l.jsx)(E.Z,{dataTestId:"search-box-input",focusOptionId:je,isFocused:ae,name:"searchBoxInput",onBlur:function(){V(!1)},onChange:function(e){R(e),re()},onFocus:function(){ie(Date.now()),c({event_type:101,component:43,element:227}),V(!0)},onKeyDown:e=>{switch(e.keyCode){case f.Z.ENTER:{const t=(0,L.Cx)(U,$);ae&&t&&e.preventDefault(),t&&G?(we(t,t.resultIndex||0,!0),X(!1)):be();break}case f.Z.ESCAPE:ae&&e.preventDefault(),e.stopPropagation(),V(!1),te(!1);break;case f.Z.UP:ae&&e.preventDefault();const[t,n]=(0,L.HR)(U,$);Y(t),X(!0),H(n);break;case f.Z.DOWN:{ae&&e.preventDefault();const[t,n]=(0,L.l6)(U,$);Y(t),X(!0),H(n);break}case f.Z.TAB:ve&&!A&&ae&&(e.preventDefault(),e.stopPropagation(),R(ve))}},onSearchTrigger:be,placeholder:ye,value:Z}),Z||n&&Pe||pe&&ae?(0,l.jsx)(a.xu,{flex:"none",marginStart:3,children:(0,l.jsx)(De.Z,{id:"search-cancel",children:(0,l.jsx)(a.hU,{accessibilityLabel:x.bt("Hapus input pencarian", "Remove search input", "searchBox.removeSearchInput.accessibilityLabel", undefined, true),icon:M?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(R(""),O(r.lw.PINS),re(),M){const e=(0,s.Z)({query:"",rs:"remove"});S.push(e)}else n&&e&&e(!0)},size:M?"sm":"lg"})})}):null,!pe&&ae&&Re]}),Pe?(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,l.jsx)(m,{currentlySelectedFilter:F,currentQuery:M,handleContentTypeFilterHover:()=>{n&&oe(ne)},handleScopeChange:function(e){O(e),V(n&&!A),re()}})]}):null,pe&&ae&&Re]})})}function Re(e){return(0,l.jsx)(be,{children:(0,l.jsx)(Ae,{...e})})}},928597:(e,t,n)=>{n.d(t,{A_:()=>g,F9:()=>p,S0:()=>u,ZP:()=>_});var o=n(72809),s=n(615119),i=n(19121),r=n(65675),a=n(233803),l=n(366428),c=n(883119),d=n(785893);const u=320,p=141,h=u+16;function g(e){const t=e=>e*h+30;return e>=t(4)?4*h:e>=t(3)?3*h:e>=t(2)?2*h:h}function _({backgroundColor:e,id:t,index:n,isHovered:h,onClick:g,onMouseEnter:_,onMouseLeave:x,pins:m,referringSource:y,searchBoxRenderStopwatch:v,storyType:f,title:S,url:w}){const b=(0,i.Z)(),I=m.slice(0,3),j=(0,l.Z)({componentType:200,contextLogData:{rs:y,story_id:t,story_index:n,story_type:f},impressionType:"Story",loggingId:t,slotIndex:n,viewParameter:3467,viewType:2}),P=()=>{null==v||v.stop()};return(0,d.jsx)(c.iP,{fullWidth:!1,href:w,onMouseEnter:_,onMouseLeave:x,onTap:()=>g(),role:"link",rounding:4,children:(0,d.jsx)(c.zd,{rounding:4,children:(0,d.jsxs)(c.xu,{alignItems:"center","data-test-id":"search-suggestion",display:"flex",justifyContent:"center",position:"relative",ref:j,children:[(0,d.jsx)(c.kC,{height:p,justifyContent:"between",overflow:"hidden",width:u,children:I.map((t=>(0,d.jsx)(c.zd,{height:p,wash:!0,width:(u-I.length+1)/I.length,children:(0,d.jsx)(c.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:P,role:"presentation",src:t.image_medium_url,children:(0,d.jsx)(c.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h?r.A.lightHoverOverlay:{}}})})},`coverImg-${t.id}`)))}),(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:[(0,d.jsx)(c.xv,{align:"center",children:S}),b.isAuth&&b.isEmployee?(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:-1,marginEnd:-1,children:(0,d.jsx)(o.Z,{handleReport:()=>{(0,s.Z)({query:"",report:S,suggestions:[S],type:"slp_rec_trending"===y?a.KH.SEARCH_TRENDING_TEXT:a.KH.SEARCH_IDEAS_FOR_YOU})},isVisible:h,pinIds:I.map((e=>e.id))})}):null]})]})})})}},233803:(e,t,n)=>{n.d(t,{KH:()=>w,Ny:()=>f,QU:()=>M,a5:()=>E,iS:()=>k,pW:()=>D,r$:()=>C,vW:()=>T});var o=n(667294),s=n(702664),i=n(654874),r=n(615119),a=n(214494),l=n(134951),c=n(898781),d=n(248327),u=n(65675),p=n(407043),h=n(773285),g=n(366428),_=n(81636),x=n(928597),m=n(883119),y=n(622599),v=n(785893);const f=192,S={__style:{backgroundColor:"rgba(0,0,0, .4)"}},w={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},b=({color:e,handleRemove:t,id:n,isHovered:o,isRecentSearch:s=!1,label:i,onClick:r,onMouseEnter:a,onMouseLeave:l,removeA11yText:c,url:d})=>(0,v.jsx)(m.xu,{"aria-selected":o?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,v.jsx)(m.iP,{accessibilityLabel:i,href:d,onMouseEnter:a,onMouseLeave:l,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(s&&(t(),e.preventDefault()),r())},role:"link",rounding:"pill",children:(0,v.jsxs)(m.xu,{alignItems:"center",color:o?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",backgroundColor:e}},display:"flex",paddingX:3,paddingY:s?1:2,position:"relative",rounding:"pill",children:[e&&(0,v.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:o?u.A.lightHoverOverlay:{}},height:"100%",left:!0,position:"absolute",rounding:"pill",top:!0,width:"100%"}),(0,v.jsx)(m.xv,{align:"center",children:i}),s&&(0,v.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,v.jsx)(m.hU,{accessibilityLabel:null!=c?c:"",icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),null==t||t(i)},size:"xs"})})]})})}),I=({id:e,isHovered:t,onClick:n,onMouseEnter:s,onMouseLeave:i,showSeeMoreOverlay:r,suggestion:a,trackClick:l,url:d})=>{var u,p,h,g,_,x;const y=(0,c.ZP)();return(0,v.jsx)(m.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,v.jsx)(m.iP,{role:"link",onMouseEnter:s,onMouseLeave:i,href:d||a.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),l(),e.metaKey||e.ctrlKey||d||(e.preventDefault(),n())},children:(0,v.jsxs)(m.zd,{height:116,rounding:3,wash:t,width:90,children:[(0,v.jsx)(m.Ee,{alt:a.label,fit:"cover",naturalHeight:null!==(u=null===(p=a.images["236x"])||void 0===p?void 0:p.height)&&void 0!==u?u:1,naturalWidth:null!==(h=null===(g=a.images["236x"])||void 0===g?void 0:g.width)&&void 0!==h?h:1,src:null!==(_=null===(x=a.images["236x"])||void 0===x?void 0:x.url)&&void 0!==_?_:""}),r&&(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(m.xu,{dangerouslySetInlineStyle:S,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,v.jsx)(m.xu,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,v.jsx)(m.xv,{align:"center",color:"inverse",weight:"bold",children:y.bt("Lihat Lainnya", "See More", "searchBox.suggestionGroups.recentPinRep.seeMoreText", undefined, true)})})]})]})})})},j=({componentType:e,focusedIndex:t,groupIndex:n,keyPrefix:s,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,seeMoreUrl:l,slpUnifiedComponentStyle:c,suggestions:d,title:u})=>{const{logContextEvent:h}=(0,p.v)();return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(m.kC,{width:"100%",children:(0,v.jsx)(P,{title:u,slpUnifiedComponentStyle:c})}),(0,v.jsx)(m.xu,{display:"flex",wrap:!0,width:"100%",paddingX:c?void 0:4,children:d.map(((o,c)=>{const u=6===c&&7===d.length;return(0,v.jsx)(I,{id:(0,y.Gp)(n,c),isHovered:t===c,onClick:()=>{i(o,c)},onMouseEnter:()=>{r(c)},onMouseLeave:()=>{a()},showSeeMoreOverlay:u,suggestion:o,trackClick:()=>{h({event_type:101,component:e,element:u?179:12374,view_type:2,view_parameter:103})},url:u?l:o.url},`${s}-${c}`)}))})]})},P=({slpUnifiedComponentStyle:e,title:t})=>(0,v.jsx)(m.xu,{alignItems:"center",display:"flex",marginTop:e?void 0:2,marginStart:e?void 0:5,paddingY:e?4:2,children:(0,v.jsx)(m.xv,{lineClamp:1,weight:e?"bold":void 0,children:t})});function C({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,slpUnifiedComponentStyle:i,suggestions:r}){const a=(0,c.ZP)();return(0,_.Q)({component:13844,view_parameter:103,view_type:2}),(0,v.jsx)(j,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,seeMoreUrl:"/me/pins/",slpUnifiedComponentStyle:i,suggestions:r,title:a.bt("Terakhir disimpan", "Recently saved", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function T({focusedIndex:e,groupIndex:t,maxWidth:n,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:l,slpUnifiedComponentStyle:u,suggestions:p}){const h=(0,c.ZP)(),g=(0,s.useDispatch)(),_=async e=>{await a.Z.create("ApiResource",{url:"/v3/search/recent/",data:{query:e}}).callDelete(),g((0,d.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},x=h.bt("Hapus", "Remove", "Remove recent search in search typeahead suggestion", undefined, true);return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(P,{slpUnifiedComponentStyle:u,title:h.bt("Pencarian terbaru", "Recent searches", "Recent searches heading in search autocomplete", undefined, true)}),(0,v.jsx)(m.xu,{display:"flex",maxWidth:null!=n?n:void 0,overflow:"hidden",paddingX:u?void 0:4,position:"relative",children:p.map(((n,o)=>(0,v.jsx)(m.xu,{"data-test-id":"recent-query",children:(0,v.jsx)(b,{handleRemove:_,id:(0,y.Gp)(t,o),isHovered:e===o,isRecentSearch:!0,label:n.label,onClick:()=>{i(n,o)},onMouseEnter:()=>{r(o)},onMouseLeave:()=>{l()},removeA11yText:x,url:(0,y.Ek)({suggestion:n,query:""})})},`${n.type}-${n.label}`)))})]})}function k({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,slpUnifiedComponentStyle:i,suggestions:r}){const a=(0,c.ZP)();return(0,_.Q)({component:13843,view_parameter:103,view_type:2}),(0,v.jsx)(j,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,seeMoreUrl:"/recently-viewed/",slpUnifiedComponentStyle:i,suggestions:r,title:a.bt("Baru saja dilihat", "Recently viewed", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function D({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,searchBoxRenderStopwatch:r,slpUnifiedComponentStyle:a,suggestions:c}){const{id:d,items:u,story_type:p,title:{format:h}}=c,_=u.map((({type:e,id:t})=>e+":"+t)).join("|"),S=(0,g.Z)({viewType:2,componentType:200,viewParameter:3467,loggingId:d,objectIdStr:d,contextLogData:{content_ids:_,story_id:d,story_type:p},impressionType:"Story",slotIndex:e});return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(P,{title:h,slpUnifiedComponentStyle:a}),(0,v.jsx)(m.xu,{display:"flex",marginBottom:5,maxWidth:a?void 0:832,paddingX:a?void 0:4,ref:S,wrap:!0,children:u.slice(0,4).map(((o,c)=>{const u=t===c;return(0,v.jsx)(m.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,y.Gp)(e,c),marginBottom:2,marginEnd:a?4:void 0,paddingX:a?void 0:1,role:"option",children:(0,v.jsx)(l.Z,{bubble:o,height:a?x.F9:f,isHovered:u,lightOverlay:a,onClick:()=>{n(o,c)},onMouseEnter:()=>{s(c)},onMouseLeave:()=>{i()},searchBoxRenderStopwatch:r,slotIndex:c,storyId:d,storyType:p,viewParameter:3467,viewType:2,width:a?x.S0:f})},`story--${e}-${c}`)}))})]})}function E({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:a,searchBoxRenderStopwatch:l,slpUnifiedComponentStyle:c,suggestions:d}){const{id:u,items:p,story_type:h,title:{format:_}}=d,S=p.map((({type:e,id:t})=>e+":"+t)).join("|"),b=(0,g.Z)({componentType:200,contextLogData:{content_ids:S,story_id:u,story_type:h},impressionType:"Story",loggingId:u,slotIndex:t,viewParameter:3467,viewType:2}),I="shopping_spotlight"===h;return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(P,{title:_,slpUnifiedComponentStyle:c}),(0,v.jsx)(m.xu,{display:"flex",marginBottom:5,maxWidth:c?void 0:832,paddingX:c?void 0:4,ref:b,wrap:!0,children:p.slice(0,I?4:void 0).map(((o,d)=>{const g=e===d;let _=84;return I&&(_=c?x.F9:f),(0,v.jsx)(m.xu,{"data-test-id":"search-suggestion",children:(0,v.jsx)(m.xu,{"aria-selected":g?"true":"false",id:(0,y.Gp)(t,d),marginBottom:2,marginEnd:c?4:void 0,paddingX:c?void 0:1,role:"option",children:(0,v.jsx)(i.Z,{bubble:o,contextLogData:{story_type:h,content_ids:S},disableTabIndex:!0,handleReport:()=>{(0,r.Z)({query:"",report:o.query,suggestions:p.map((e=>e.query)),type:2===o.story_category?w.SEARCH_TRENDING_TEXT:w.SEARCH_IDEAS_FOR_YOU})},height:_,imgSignature:o.aux_fields&&o.aux_fields.image_sig,isHovered:g,lightOverlay:c,onClick:()=>{n(o,d)},onMouseEnter:()=>{s(d)},onMouseLeave:()=>{a()},referringSource:2===o.story_category?"trending":"autocomplete_bubble",searchBoxRenderStopwatch:l,showFlag:2===o.story_category||115===o.story_category,slotIndex:d,storyId:u,viewParameter:3467,viewType:2,width:c?x.S0:f})})},`story-${o.story_category?o.story_category:""}-${t}-${d}`)}))})]})}function M({focusedIndex:e,maxWidth:t,onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:s,searchBoxRenderStopwatch:i,suggestions:r,title:a}){const{group:l}=(0,h.F)().checkExperiment("dweb_slp_unified_component");return(0,v.jsxs)(m.xu,{marginBottom:4,children:[(0,v.jsx)(P,{title:a,slpUnifiedComponentStyle:!0}),"enabled_pill"===l&&"slp_rec_organic"===r[0].referring_source?(0,v.jsx)(m.xu,{display:"flex",maxWidth:null!=t?t:void 0,overflow:"hidden",position:"relative",children:r.map(((t,i)=>(0,v.jsx)(b,{color:t.aux_fields.background_color,isHovered:e===i,label:t.title.format,onClick:()=>{n(t,i)},onMouseEnter:()=>{o(i)},onMouseLeave:()=>{s()},url:t.action.url},`ify-pill-${i}`)))}):(0,v.jsx)(m.kC,{wrap:!0,maxWidth:null!=t?t:void 0,gap:4,children:r.map(((t,r)=>{const{aux_fields:{background_color:a},action:{url:l},id:c,objects:d,referring_source:u,story_type:p,title:{format:h}}=t,g=e===r;return(0,v.jsx)(x.ZP,{backgroundColor:a,id:c,index:r,isHovered:g,onClick:()=>{n(t,r)},onMouseEnter:()=>{o(r)},onMouseLeave:()=>{s()},pins:d,referringSource:u,searchBoxRenderStopwatch:i,storyType:p,title:h,url:l},`unifiedComponent-${c}`)}))})]})}},641350:(e,t,n)=>{n.d(t,{Ag:()=>g,F7:()=>i,Fj:()=>d,NO:()=>u,P$:()=>p,Ub:()=>_,XI:()=>o,a3:()=>l,ht:()=>r,le:()=>c,sA:()=>a,vh:()=>s,yY:()=>h});const o=48,s=52,i=68,r={md:407,sm:332},a=7,l=["pin.description","pin.id","pin.images[236x]"],c=360,d=76,u=.8,p=5,h=7.5,g=40,_=24},622599:(e,t,n)=>{n.d(t,{Cx:()=>v,Ek:()=>x,Gp:()=>m,HR:()=>S,PN:()=>I,WY:()=>w,YO:()=>C,cW:()=>y,hb:()=>P,l6:()=>f,sy:()=>b,zj:()=>j});var o=n(794230),s=n(391143),i=n(862628),r=n(829407),a=n(898781),l=n(784590),c=n(19121),d=n(613316),u=n(53987),p=n(909499),h=n(773285),g=n(276775),_=n(641350);function x({suggestion:e,query:t,lastFocusTime:n=0,filterSelectedTerm:r}){if("explorearticle"===e.type){var a,l;const{story_category:t,query:n,referringSource:o,id:i,storyId:r}=e;return null!==(a=null===(l=e.action)||void 0===l?void 0:l.url)&&void 0!==a?a:(0,s.Z)({storyCategory:t,query:n,referringSource:o,bubbleId:i,storyId:r})}if("todayarticle"===e.type){const{id:t,title:n}=e;return(0,d.x)({title:n,id:t,articleType:"today"})}const c={eq:(0,i.Z)(t)};n&&(c.etslf=String(Date.now()-n)),"inclusive_product_filter_query"===e.type&&r&&(c.filters=r);return(0,o.Z)(e.url||"",c)}function m(e,t){return`SuggestionGroup-Option-${e}-${t}`}const y=e=>{let t=0;return e.map((e=>{var n,o;const s=t;return t+=null!==(n=(null!==(o=e.items)&&void 0!==o?o:[]).length)&&void 0!==n?n:0,s}))},v=(e,t)=>{if(null==t)return;const n=y(e);for(let o=0;o<n.length;o+=1)if(e[o].items.length&&t-n[o]<e[o].items.length)return e[o].items[t-n[o]];return null};function f(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let o;o=null==t?0:t===n-1?void 0:t+1;return[o,v(e,o)]}function S(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let o;o=null==t?n-1:0===t?void 0:t-1;return[o,v(e,o)]}function w(){const e=(0,g.useLocation)(),t=(0,c.Z)(),n=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),o=e.pathname.startsWith("/recently-viewed");return n||o}function b({setShouldHideGhostText:e,setSuggestionsMaxHeight:t,isFullWidthSearchBox:n}){function o(){var o;const s=(null===(o=document.getElementById("searchBoxContainer"))||void 0===o?void 0:o.offsetWidth)||0;e(s<=_.le),t(n?_.NO*(window.innerHeight-80):window.innerHeight-14-_.Fj)}(0,r.Z)((()=>(window.addEventListener("resize",o),o(),()=>{window.removeEventListener("resize",o)})))}function I({shouldHideGhostText:e,isSyop:t,inputFocused:n}){const o=(0,a.ZP)(),s=(0,g.useLocation)(),i=(0,l.Z)({name:"GhostTextResource",options:{numResponseResults:null,maxLengthEachResult:null}}),{checkExperiment:r}=(0,h.F)(),{anyEnabled:c}=r("aid_exp_ia_navigation_update_search");let d=!(0,u.Ni)(s)&&c?o.bt("Cari Pin", "Search Pins", "searchBox.placeholder.defaultText", undefined, true):o.bt("Cari", "Search", "searchBox.placeholder.defaultText", undefined, true),p="";if(!e&&i.isLoaded&&i.data&&i.data.length>0){const e=i.data[0].text;p=i.data[0].query,d=e}return t&&(d=o.bt("Coba judul atau deskripsi", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true),n||(d=c?o.bt("Cari Pin", "Search Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true):o.bt("Cari pin Anda", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true))),[d,p]}function j({suggestionsFocusIndex:e,suggestionGroups:t}){const n=y(t);let o,s;if("number"==typeof e)for(let i=n.length-1;i>=0;i-=1)if(e>=n[i]){o=i,s=e-n[i];break}return"number"==typeof o&&"number"==typeof s?m(o,s):""}function P(){const e=(0,c.Z)();(0,l.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:p.lw.PINS},noCache:!0}),(0,l.Z)({name:"SearchTabResource"}),(0,l.Z)(e.isLimitedLogin?null:{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:_.a3.join(","),pin_preview_count:_.sA}}})}function C({pillLabels:e,maxWidth:t,hasCancelButton:n=!1}){let o=e.length;if(!t)return o;let s=0;for(let i=0;i<e.length;i+=1){const r=e[i].length*_.yY+_.Ag+(n?_.Ub:0);if(!(r+s<t)){o=i;break}s+=r}return o}},100745:(e,t,n)=>{n.d(t,{A:()=>a,N:()=>l});var o=n(667294),s=n(425288),i=n(785893);const{Provider:r,useHook:a}=(0,s.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){const[n,s]=(0,o.useState)(t),a=(0,o.useMemo)((()=>({searchContext:n,updateSearchContext:s})),[n,s]);return(0,i.jsx)(r,{value:a,children:e})}},224525:(e,t,n)=>{function o(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function s(e){return o("/admin/",e)}function i(e){return o("/admin/oauth/logout/",e)}function r(e){return o("/today/",e)}n.d(t,{HF:()=>s,Kn:()=>i,tG:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27730.id_ID-29405d30443fd4dd.mjs.map